(window.webpackJsonp=window.webpackJsonp||[]).push([[11,12],{2:function(e,t,i){"use strict";var n,s;"function"==typeof Symbol&&Symbol.iterator;void 0===(s="function"==typeof(n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}return function t(i){function n(t,s,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},n.defaults,o)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*o.expires),o.expires=r}try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch(e){}return s=i.write?i.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",s,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var c=l[u].split("="),h=c[0].replace(d,decodeURIComponent),v=c.slice(1).join("=");'"'===v.charAt(0)&&(v=v.slice(1,-1));try{if(v=i.read?i.read(v,h):i(v,h)||v.replace(d,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(e){}if(t===h){a=v;break}t||(a[h]=v)}catch(e){}}return a}}return n.set=n,n.get=function(e){return n(e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}(function(){})})?n.call(t,i,t,e):n)||(e.exports=s)},6:function(e,t,i){"use strict";!function(e){e.fn.qrcode=function(t){var i;function n(e){this.mode=i,this.data=e}function s(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function o(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var i=0;i<e.length&&0==e[i];)i++;this.num=Array(e.length-i+t);for(var n=0;n<e.length-i;n++)this.num[n]=e[n+i]}function a(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}n.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},s.prototype={addData:function(e){this.dataList.push(new n(e)),this.dataCache=null},isDark:function(e,t){if(0>e||this.moduleCount<=e||0>t||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var e=1;for(e=1;40>e;e++){for(var t=a.getRSBlocks(e,this.errorCorrectLevel),i=new r,n=0,s=0;s<t.length;s++)n+=t[s].dataCount;for(s=0;s<this.dataList.length;s++)t=this.dataList[s],i.put(t.mode,4),i.put(t.getLength(),l.getLengthInBits(t.mode,e)),t.write(i);if(i.getLengthInBits()<=8*n)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var i=-1;7>=i;i++)if(!(-1>=e+i||this.moduleCount<=e+i))for(var n=-1;7>=n;n++)-1>=t+n||this.moduleCount<=t+n||(this.modules[e+i][t+n]=0<=i&&6>=i&&(0==n||6==n)||0<=n&&6>=n&&(0==i||6==i)||2<=i&&4>=i&&2<=n&&4>=n)},getBestMaskPattern:function(){for(var e=0,t=0,i=0;8>i;i++){this.makeImpl(!0,i);var n=l.getLostPoint(this);(0==i||e>n)&&(e=n,t=i)}return t},createMovieClip:function(e,t,i){for(e=e.createEmptyMovieClip(t,i),this.make(),t=0;t<this.modules.length;t++){i=1*t;for(var n=0;n<this.modules[t].length;n++){var s=1*n;this.modules[t][n]&&(e.beginFill(0,100),e.moveTo(s,i),e.lineTo(s+1,i),e.lineTo(s+1,i+1),e.lineTo(s,i+1),e.endFill())}}return e},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=0==e%2)},setupPositionAdjustPattern:function(){for(var e=l.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var n=e[t],s=e[i];if(null==this.modules[n][s])for(var o=-2;2>=o;o++)for(var a=-2;2>=a;a++)this.modules[n+o][s+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=l.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;18>i;i++)n=!e&&1==(t>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n},setupTypeInfo:function(e,t){for(var i=l.getBCHTypeInfo(this.errorCorrectLevel<<3|t),n=0;15>n;n++){var s=!e&&1==(i>>n&1);6>n?this.modules[n][8]=s:8>n?this.modules[n+1][8]=s:this.modules[this.moduleCount-15+n][8]=s}for(n=0;15>n;n++)s=!e&&1==(i>>n&1),8>n?this.modules[8][this.moduleCount-n-1]=s:9>n?this.modules[8][15-n-1+1]=s:this.modules[8][15-n-1]=s;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var i=-1,n=this.moduleCount-1,s=7,o=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var r=0;2>r;r++)if(null==this.modules[n][a-r]){var d=!1;o<e.length&&(d=1==(e[o]>>>s&1)),l.getMask(t,n,a-r)&&(d=!d),this.modules[n][a-r]=d,-1==--s&&(o++,s=7)}if(0>(n+=i)||this.moduleCount<=n){n-=i,i=-i;break}}}},s.PAD0=236,s.PAD1=17,s.createData=function(e,t,i){t=a.getRSBlocks(e,t);for(var n=new r,o=0;o<i.length;o++){var d=i[o];n.put(d.mode,4),n.put(d.getLength(),l.getLengthInBits(d.mode,e)),d.write(n)}for(o=e=0;o<t.length;o++)e+=t[o].dataCount;if(n.getLengthInBits()>8*e)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*e+")");for(n.getLengthInBits()+4<=8*e&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*e)&&(n.put(s.PAD0,8),!(n.getLengthInBits()>=8*e));)n.put(s.PAD1,8);return s.createBytes(n,t)},s.createBytes=function(e,t){for(var i=0,n=0,s=0,a=Array(t.length),r=Array(t.length),d=0;d<t.length;d++){var u=t[d].dataCount,c=t[d].totalCount-u;n=Math.max(n,u),s=Math.max(s,c);a[d]=Array(u);for(var h=0;h<a[d].length;h++)a[d][h]=255&e.buffer[h+i];for(i+=u,h=l.getErrorCorrectPolynomial(c),u=new o(a[d],h.getLength()-1).mod(h),r[d]=Array(h.getLength()-1),h=0;h<r[d].length;h++)c=h+u.getLength()-r[d].length,r[d][h]=0<=c?u.get(c):0}for(h=d=0;h<t.length;h++)d+=t[h].totalCount;for(i=Array(d),h=u=0;h<n;h++)for(d=0;d<t.length;d++)h<a[d].length&&(i[u++]=a[d][h]);for(h=0;h<s;h++)for(d=0;d<t.length;d++)h<r[d].length&&(i[u++]=r[d][h]);return i},i=4;for(var l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=l.getBCHDigit(t)-l.getBCHDigit(l.G15);)t^=l.G15<<l.getBCHDigit(t)-l.getBCHDigit(l.G15);return(e<<10|t)^l.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=l.getBCHDigit(t)-l.getBCHDigit(l.G18);)t^=l.G18<<l.getBCHDigit(t)-l.getBCHDigit(l.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case 0:return 0==(t+i)%2;case 1:return 0==t%2;case 2:return 0==i%3;case 3:return 0==(t+i)%3;case 4:return 0==(Math.floor(t/2)+Math.floor(i/3))%2;case 5:return 0==t*i%2+t*i%3;case 6:return 0==(t*i%2+t*i%3)%2;case 7:return 0==(t*i%3+(t+i)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new o([1],0),i=0;i<e;i++)t=t.multiply(new o([1,d.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&10>t)switch(e){case 1:return 10;case 2:return 9;case i:case 8:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case 1:return 12;case 2:return 11;case i:return 16;case 8:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case 1:return 14;case 2:return 13;case i:return 16;case 8:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,n=0;n<t;n++)for(var s=0;s<t;s++){for(var o=0,a=e.isDark(n,s),r=-1;1>=r;r++)if(!(0>n+r||t<=n+r))for(var l=-1;1>=l;l++)0>s+l||t<=s+l||0==r&&0==l||a==e.isDark(n+r,s+l)&&o++;5<o&&(i+=3+o-5)}for(n=0;n<t-1;n++)for(s=0;s<t-1;s++)o=0,e.isDark(n,s)&&o++,e.isDark(n+1,s)&&o++,e.isDark(n,s+1)&&o++,e.isDark(n+1,s+1)&&o++,(0==o||4==o)&&(i+=3);for(n=0;n<t;n++)for(s=0;s<t-6;s++)e.isDark(n,s)&&!e.isDark(n,s+1)&&e.isDark(n,s+2)&&e.isDark(n,s+3)&&e.isDark(n,s+4)&&!e.isDark(n,s+5)&&e.isDark(n,s+6)&&(i+=40);for(s=0;s<t;s++)for(n=0;n<t-6;n++)e.isDark(n,s)&&!e.isDark(n+1,s)&&e.isDark(n+2,s)&&e.isDark(n+3,s)&&e.isDark(n+4,s)&&!e.isDark(n+5,s)&&e.isDark(n+6,s)&&(i+=40);for(s=o=0;s<t;s++)for(n=0;n<t;n++)e.isDark(n,s)&&o++;return i+10*(e=Math.abs(100*o/t/t-50)/5)}},d={glog:function(e){if(1>e)throw Error("glog("+e+")");return d.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;256<=e;)e-=255;return d.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},u=0;8>u;u++)d.EXP_TABLE[u]=1<<u;for(u=8;256>u;u++)d.EXP_TABLE[u]=d.EXP_TABLE[u-4]^d.EXP_TABLE[u-5]^d.EXP_TABLE[u-6]^d.EXP_TABLE[u-8];for(u=0;255>u;u++)d.LOG_TABLE[d.EXP_TABLE[u]]=u;return o.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<e.getLength();n++)t[i+n]^=d.gexp(d.glog(this.get(i))+d.glog(e.get(n)));return new o(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=d.glog(this.get(0))-d.glog(e.get(0)),i=Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<e.getLength();n++)i[n]^=d.gexp(d.glog(e.get(n))+t);return new o(i,0).mod(e)}},a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(e,t){var i=a.getRsBlockTable(e,t);if(void 0==i)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=i.length/3,s=[],o=0;o<n;o++)for(var r=i[3*o+0],l=i[3*o+1],d=i[3*o+2],u=0;u<r;u++)s.push(new a(l,d));return s},a.getRsBlockTable=function(e,t){switch(t){case 1:return a.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return a.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return a.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return a.RS_BLOCK_TABLE[4*(e-1)+3]}},r.prototype={get:function(e){return 1==(this.buffer[Math.floor(e/8)]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},t),this.each(function(){var i;if("canvas"==t.render){(i=new s(t.typeNumber,t.correctLevel)).addData(t.text),i.make();var n=document.createElement("canvas");n.width=t.width,n.height=t.height;for(var o=n.getContext("2d"),a=t.width/i.getModuleCount(),r=t.height/i.getModuleCount(),l=0;l<i.getModuleCount();l++)for(var d=0;d<i.getModuleCount();d++){o.fillStyle=i.isDark(l,d)?t.foreground:t.background;var u=Math.ceil((d+1)*a)-Math.floor(d*a),c=Math.ceil((l+1)*a)-Math.floor(l*a);o.fillRect(Math.round(d*a),Math.round(l*r),u,c)}}else for((i=new s(t.typeNumber,t.correctLevel)).addData(t.text),i.make(),n=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),o=t.width/i.getModuleCount(),a=t.height/i.getModuleCount(),r=0;r<i.getModuleCount();r++)for(l=e("<tr></tr>").css("height",a+"px").appendTo(n),d=0;d<i.getModuleCount();d++)e("<td></td>").css("width",o+"px").css("background-color",i.isDark(r,d)?t.foreground:t.background).appendTo(l);i=n,jQuery(i).appendTo(this)})}}(jQuery)},7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWin=void 0;var n,s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(6);var a=i(2),r={WARNING_PHONE_IS_NOT_REGISTER:"WARNING_PHONE_IS_NOT_REGISTER",RIGHT_EMAIL_CAN_USE:"RIGHT_EMAIL_CAN_USE",ERROR_PHONE_FORMAT:"ERROR_PHONE_FORMAT",ERROR_DEFAULT:"ERROR_DEFAULT"},l={USE_PHONE:"phone",USE_PHONE_CODE:"phone_code",USE_AUTO:"auto",USE_USERNAME:"username"},d={login:".login-win",register:".register-win",country:{1:"+1 美国/加拿大",7:"+7 俄罗斯",20:"+20 埃及",27:"+27 南非",30:"+30 希腊",31:"+31 荷兰",32:"+32 比利时",33:"+33 法国",34:"+34 西班牙",36:"+36 匈牙利",39:"+39 意大利",40:"+40 罗马尼亚",41:"+41 瑞士",43:"+43 奥地利",44:"+44 英国",45:"+45 丹麦",46:"+46 瑞典",47:"+47 挪威",48:"+48 波兰",49:"+49 德国",51:"+51 秘鲁",52:"+52 墨西哥",53:"+53 古巴",54:"+54 阿根廷",55:"+55 巴西",56:"+56 智利",57:"+57 哥伦比亚",58:"+58 委内瑞拉",60:"+60 马来西亚",61:"+61 澳大利亚",62:"+62 印度尼西亚",63:"+63 菲律宾",64:"+64 新西兰",65:"+65 新加坡",66:"+66 泰国",81:"+81 日本",82:"+82 韩国",84:"+84 越南",86:"+86 中国",90:"+90 土耳其",91:"+91 印度",92:"+92 巴基斯坦",93:"+93 阿富汗",94:"+94 斯里兰卡",95:"+95 缅甸",98:"+98 伊朗",211:"+211 苏丹",212:"+212 摩洛哥",213:"+213 阿尔及利亚",216:"+216 突尼斯",218:"+218 利比亚",220:"+220 冈比亚",221:"+221 塞内加尔",222:"+222 毛里塔尼亚",223:"+223 马里",224:"+224 巴布亚新几内亚",225:"+225 科特迪瓦",226:"+226 布基纳法索",227:"+227 尼日尔",228:"+228 多哥",229:"+229 贝宁共和国",230:"+230 毛里求斯",231:"+231 利比里亚",232:"+232 塞拉利昂",233:"+233 加纳",234:"+234 尼日利亚",235:"+235 乍得",236:"+236 中非共和国",237:"+237 喀麦隆",238:"+238 佛得角",239:"+239 圣多美和普林西比",240:"+240 赤道几内亚",241:"+241 加蓬",242:"+242 刚果",243:"+243 刚果民主共和国",244:"+244 安哥拉",245:"+245 几内亚比绍共和国",248:"+248 塞舌尔",250:"+250 卢旺达",251:"+251 埃塞俄比亚",252:"+252 索马里",253:"+253 吉布提",254:"+254 肯尼亚",255:"+255 坦桑尼亚",256:"+256 乌干达",257:"+257 布隆迪",258:"+258 莫桑比克",260:"+260 赞比亚",261:"+261 马达加斯加",262:"+262 留尼旺岛",263:"+263 津巴布韦",264:"+264 纳米比亚",265:"+265 马拉维",266:"+266 莱索托",267:"+267 博茨瓦纳",268:"+268 斯威士兰",269:"+269 科摩罗伊斯兰联邦共和国",284:"+284 维尔京群岛 英国",290:"+290 圣赫勒拿岛",291:"+291 厄立特里亚",297:"+297 阿鲁巴",298:"+298 法罗群岛",299:"+299 格陵兰岛",340:"+340 维尔京群岛 美国",350:"+350 直布罗陀",351:"+351 葡萄牙",352:"+352 卢森堡",353:"+353 爱尔兰",354:"+354 冰岛",355:"+355 阿尔巴尼亚",356:"+356 马耳他",357:"+357 塞浦路斯",358:"+358 芬兰",359:"+359 保加利亚",370:"+370 立陶宛",371:"+371 拉脱维亚",372:"+372 爱沙尼亚",373:"+373 摩尔多瓦",374:"+374 亚美尼亚",375:"+375 白俄罗斯",376:"+376 安道尔共和国",377:"+377 摩纳哥",378:"+378 圣马力诺",379:"+379 梵蒂冈",380:"+380 乌克兰",381:"+381 塞尔维亚共和国",382:"+382 黑山共和国",385:"+385 克罗地亚",386:"+386 斯洛文尼亚",387:"+387 波斯尼亚和黑塞哥维那",389:"+389 马其顿共和国",420:"+420 捷克共和国",421:"+421 斯洛伐克",423:"+423 列支敦士登",500:"+500 福克兰群岛",501:"+501 伯利兹",502:"+502 危地马拉",503:"+503 萨尔瓦多",504:"+504 洪都拉斯",505:"+505 尼加拉瓜",506:"+506 哥斯达黎加",507:"+507 巴拿马",508:"+508 圣皮埃尔和密克隆",509:"+509 海地",590:"+590 瓜德罗普岛",591:"+591 玻利维亚",592:"+592 圭亚那",593:"+593 厄瓜多尔",594:"+594 法属圭亚那",595:"+595 巴拉圭",596:"+596 马提尼克岛",597:"+597 苏里南",598:"+598 乌拉圭",599:"+599 荷属安德烈斯群岛",673:"+673 文莱",675:"+675 巴布亚新几内亚",676:"+676 汤加",678:"+678 瓦努阿图",679:"+679 斐济",680:"+680 帕劳",681:"+681 沃利斯和富图纳群岛",682:"+682 库克群岛",685:"+685 萨摩亚群岛",686:"+686 基里巴斯",687:"+687 新喀里多尼亚",688:"+688 图瓦卢",689:"+689 法属波利尼西亚",690:"+690 托克劳群岛",691:"+691 密克罗尼西亚联邦",850:"+850 朝鲜",852:"+852 香港",853:"+853 澳门",855:"+855 柬埔寨",856:"+856 老挝",880:"+880 孟加拉共和国",886:"+886 台湾",960:"+960 马尔代夫",961:"+961 黎巴嫩",962:"+962 约旦",963:"+963 叙利亚",964:"+964 伊拉克",965:"+965 科威特",966:"+966 沙特阿拉伯",967:"+967 也门",968:"+968 阿曼",970:"+970 巴勒斯坦",971:"+971 阿拉伯联合酋长国",972:"+972 以色列",973:"+973 巴林",974:"+974 卡塔尔",975:"+975 不丹",976:"+976 蒙古",977:"+977 尼泊尔",992:"+992 塔吉克斯坦",993:"+993 土库曼斯坦",994:"+994 阿塞拜疆共和国",995:"+995 格鲁吉亚",996:"+996 吉尔吉斯",998:"+998 乌兹别克斯坦",1242:"+1242 巴哈马",1246:"+1246 巴巴多斯",1264:"+1264 安圭拉岛",1268:"+1268 安提瓜和巴布达",1345:"+1345 开曼群岛",1441:"+1441 百慕大群岛",1473:"+1473 格林纳达",1649:"+1649 特克斯和凯科斯群岛",1664:"+1664 蒙特塞拉特岛",1670:"+1670 东帝汶",1671:"+1671 关岛",1684:"+1684 美属萨摩亚群岛",1721:"+1721 圣马丁（荷兰一部分）",1758:"+1758 圣卢西亚",1767:"+1767 多米尼加",1787:"+1787 波多黎各",1868:"+1868 特立尼达和多巴哥",1869:"+1869 圣基茨和尼维斯",1876:"+1876 牙买加",5997:"+5997 博内尔岛",5999:"+5999 库拉索"},loginType:(n={},o(n,l.USE_AUTO,"账号"),o(n,l.USE_USERNAME,"用户名"),n),magicId:"2078851914"};t.ModalWin=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=$.extend({},d,t),this.errorCode=r,this.loginWay=l,this.login=this.options.login,this.register=this.options.register,this.isMask=!1,this.isScript=!1,this.phoneStatus={isRequest:!1,verifyTimer:null,isLogin:!1,isRegister:!1},this.emailStatus={isRequest:!1,verifyTimer:null,regex:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,isLogin:!1,isRegister:!1},this.bind()}return s(e,[{key:"bind",value:function(){var e=this;$("body, .fixed-menu").on("click",e.login,function(t){t.preventDefault(),e.getHref(),e.renderLoginModal()}),$("body, .fixed-menu").on("click",e.register,function(t){t.preventDefault(),e.getHref(),e.renderQuickRegisterModal()})}},{key:"getHref",value:function(){var e=window.location.href;e.includes(".linovel.net")&&a.set("jump",e,{domain:".linovel.net"}),e.includes(".qingzhiwenku.com")&&a.set("jump",e,{domain:".qingzhiwenku.com"})}},{key:"renderSelect",value:function(){var e="",t="";if(0==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0))for(var i in t=this.options.country)e+='<li value="'+i+'" class="country-options">'+t[i]+"</li>";else for(var n in t=this.options.loginType)e+='<li value="'+n+'" class="country-options">'+t[n]+"</li>";return e}},{key:"chooseOption",value:function(e){var t=this.$body.find(e),i=t.find(".input-choose");t.on("click",function(){$(this).find(".login-country").css("visibility","hidden")}),i.on("click",function(e){e.stopPropagation(),$(this).find(".login-country").css("visibility","visible")}),t.find(".country-options").on("click",function(e){e.stopPropagation();var t=$(this).attr("value"),i=$(this).text();$(this).parents(".login-country").prev().attr("value",t).text(i),$(this).parents(".login-country").css("visibility","hidden")})}},{key:"switchUserLogin",value:function(e){var t=this,i=this.$body.find(e),n=i.find(".lt-switch").attr("value");i.find(".lt-switch").on("click",function(){0==n?t.renderLoginModal():t.renderFullLoginModal()})}},{key:"renderLoginModal",value:function(){this.renderMask(),this.removeModal();var e='\n            <div class="modal-login modal-box">\n                <div class="login-switch"></div>\n                <div class="modal-box-title">登录轻之文库</div>\n                <div class="login-form">\n                    <div class="login-form-title">\n                        <div class="lt-tip">若未创建轻之文库账号，将自动创建</div>\n                        <div class="lt-switch" value="1">账号密码登录</div>\n                    </div>\n                    <div class="input-style">\n                        <div class="input-choose">\n                            <span class="choose-login-country" value="86">中国 +86</span>\n                            <div class="login-country" style="visibility: hidden;">\n                                <div class="login-options">\n                                    <ul>'+this.renderSelect()+'</ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="login-line"></div>\n                        <input type="text" class="format-phone-input" placeholder="请输入手机号">\n                    </div>\n                    <div class="input-style verify-input">\n                        <input type="text" class="input-verify" placeholder="请输入短信验证码">\n                        <div class="get-verify disable" id="TencentCaptcha">\n                            获取验证码\n                        </div>\n                    </div>\n                    <div class="input-status"></div>\n                    <div class="btn-button disable">登 录</div>\n                    <div class="quick-register modal-skip">快速注册</div>\n                </div>\n                <div class="modal-lb">\n                    <div class="quick-login-box">\n                        <a href="/auth/sns?type=qq"><i class="quick-login login-qq"></i></a>\n                        <a href="/auth/sns?type=wechat"><i class="quick-login login-wechat"></i></a>\n                        <a href="/auth/sns?type=weibo"><i class="quick-login login-weibo"></i></a>\n                    </div>\n                </div>\n            </div>';this.$body.append(e),this.bindLoginModalEvent(".modal-login",".login-switch",".quick-register")}},{key:"bindLoginModalEvent",value:function(e,t,i){this.switchModal(e,t,this.renderQRcodeModal),this.switchModal(e,i,this.renderQuickRegisterModal),this.switchUserLogin(e),this.chooseOption(e),this.bindLoginEvent(e,!0),this.cancelModal(e)}},{key:"bindLoginEvent",value:function(e,t){var i=this,n=this.$body.find(e),s={$btn:n.find(".btn-button"),$inputStatus:n.find(".input-status"),$inputVerify:n.find(".input-verify"),$phone:n.find(".format-phone-input"),$getVerify:n.find(".get-verify"),$country:n.find(".choose-login-country"),$agree:n.find("#agree")},o=s.$btn,a=s.$inputStatus,r=s.$inputVerify,l=s.$phone,d=s.$getVerify,u=s.$agree;this.verifyPhoneCaptcha(e,this.getPhoneVerifyCode,t,s),r.on("input",function(){var e=l.val(),t=r.val();""==e||isNaN(e)||""==t||isNaN(t)?o.addClass("disable").removeClass("show"):i.phoneStatus.isLogin&&o.removeClass("disable").addClass("show")}),l.on("input",function(){i.phoneStatus.isRequest=!1,i.phoneStatus.isLogin=!1,a.empty(),clearInterval(i.phoneStatus.verifyTimer);var t=l.val();r.val(""),""==t||isNaN(t)?d.addClass("disable").css("background-color","#b3b3b3"):d.removeClass("disable").css("background-color","#333333").text("获取验证码"),o.addClass("disable").removeClass("show"),isNaN(t)&&i.renderSwitchStatus(e,i.errorCode.ERROR_PHONE_FORMAT)}),d.on("click",function(){var e=l.val();""==e||isNaN(e)?d.addClass("disable").css("background-color","#b3b3b3"):d.removeClass("disable").css("background-color","#333333")}),o.on("click",function(){var t=!0;0!=u.length&&(t=u.prop("checked")),t?i.phoneStatus.isLogin&&i.usePhoneLogin(e,s):i.renderSwitchStatus(e,i.errorCode.ERROR_DEFAULT,"请同意用户协议")})}},{key:"getPhoneVerifyCode",value:function(e,t,i,n){var s=this,o=i.$phone,a=i.$getVerify,r=i.$country,l=o.val(),d=r.attr("value");void 0!=d&&86!=d&&(l="+"+d+"_"+l);var u={phone:l,captchaSeed:n.randstr,captchaTicket:n.ticket};this.requestAjax("/verify/requestLoginMsg",u,function(i){if(0!=i.code&&(s.renderSwitchStatus(e,s.errorCode.ERROR_DEFAULT,i.msg),s.phoneStatus.isLogin=!1,s.phoneStatus.isRequest=!0),0==i.code){s.phoneStatus.isLogin=!0,i.data.register&&(s.phoneStatus.isRegister=!0,t&&s.renderSwitchStatus(e,s.errorCode.WARNING_PHONE_IS_NOT_REGISTER));var n=60;s.phoneStatus.verifyTimer=setInterval(function(){n>0&&(a.css("background-color","#B3B3B3").text(--n+"s 后重试"),0==n&&(s.phoneStatus.isRequest=!1,a.removeClass("disable").css("background-color","#333333").text("获取验证码")))},1e3)}})}},{key:"usePhoneLogin",value:function(e,t){var i=this,n=t.$inputVerify,s=t.$phone,o=t.$country,a=s.val(),r=n.val(),l=o.attr("value");void 0!=l&&86!=l&&(a="+"+l+"_"+a);var d={lgt:this.loginWay.USE_PHONE_CODE,input:a,remember:0,password:r};this.requestAjax("/gateway/userLogin",d,function(t){0!=t.code&&(i.renderSwitchStatus(e,i.errorCode.ERROR_DEFAULT,t.msg),-8==t.code&&setTimeout(function(){window.location.href=t.url},1e3)),0==t.code&&(i.phoneStatus.isRegister?i.renderRegisterSuccess():window.location.reload())})}},{key:"verifyPhoneCode",value:function(e,t,i,n){var s=this,o=n.$btn,a=n.$phone,r=n.$getVerify;new TencentCaptcha(document.getElementById("TencentCaptcha"),s.options.magicId,function(l){if(0===l.ret){r.addClass("disable");var d={randstr:l.randstr,ticket:l.ticket},u=a.val();""==u||isNaN(u)?s.renderSwitchStatus(e,s.errorCode.ERROR_PHONE_FORMAT):s.phoneStatus.isRequest||(s.phoneStatus.isLogin&&o.removeClass("disable").addClass("show"),t.bind(s)(e,i,n,d))}})}},{key:"verifyPhoneCaptcha",value:function(e,t,i,n){this.isHasJS();var s=this,o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src="https://captcha.qq.com/TCaptcha.js",s.isScript?s.verifyPhoneCode(e,t,i,n):(o.appendChild(a),a.onload=function(){s.verifyPhoneCode(e,t,i,n)})}},{key:"bindMailEvent",value:function(e){var t=this,i=this.$body.find(e),n={$email:i.find(".email"),$inputStatus:i.find(".input-status"),$btn:i.find(".btn-button"),$getVerify:i.find(".get-verify"),$inputVerify:i.find(".input-verify"),$emailPass:i.find(".email-password"),$agree:i.find("#agree")},s=n.$email,o=n.$inputStatus,a=n.$btn,r=n.$getVerify,l=n.$inputVerify,d=n.$emailPass,u=n.$agree;this.verifyMailCaptcha(e,this.getMailVerifyCode,n),s.on("blur",function(){o.empty();var i=$(this).val();t.emailStatus.regex.test(i)&&""!=i?t.renderSwitchStatus(e,t.errorCode.RIGHT_EMAIL_CAN_USE):(t.renderSwitchStatus(e,t.errorCode.ERROR_EMAIL_ADDRESS),a.addClass("disable").removeClass("show"))}),d.on("input",function(){var e=s.val(),i=l.val(),n=d.val();t.emailStatus.regex.test(e)&&""!=e&&""!=i&&""!=n?t.emailStatus.isLogin&&a.removeClass("disable").addClass("show"):a.addClass("disable").removeClass("show")}),s.on("input",function(){t.emailStatus.isRequest=!1,t.emailStatus.isLogin=!1,o.empty(),clearInterval(t.emailStatus.verifyTimer),""==s.val()?r.addClass("disable").css("background-color","#b3b3b3").text("获取验证码"):r.removeClass("disable").css("background-color","#333333").text("获取验证码"),l.val(""),d.val(""),a.addClass("disable").removeClass("show")}),a.on("click",function(){u.prop("checked")?t.emailStatus.isRegister&&t.useMailLogin(e,n):t.renderSwitchStatus(e,t.errorCode.ERROR_DEFAULT,"请同意用户协议")})}},{key:"getMailVerifyCode",value:function(e,t,i){var n=this,s=t.$email,o=t.$getVerify,a={email:s.val(),captchaSeed:i.randstr,captchaTicket:i.ticket};this.requestAjax("/verify/requestRegisterMail",a,function(t){if(0!=t.code&&n.renderSwitchStatus(e,n.errorCode.ERROR_DEFAULT,t.msg),0==t.code){n.emailStatus.isLogin=!0,n.emailStatus.isRegister=!0;var i=60;n.emailStatus.verifyTimer=setInterval(function(){i>0&&(i--,o.css("background-color","#B3B3B3").text(i+"秒 后重试"),0==i&&(n.emailStatus.isRequest=!1,o.removeClass("disable").css("background-color","#333333").text("获取验证码")))},1e3)}})}},{key:"useMailLogin",value:function(e,t){var i=this,n=t.$email,s=t.$inputVerify,o=t.$emailPass,a=n.val(),r=s.val(),l=o.val(),d={email:a,name:":auto",smsCode:r,pass:l,repass:l};this.requestAjax("/auth/doRegister",d,function(t){if(0!=t.code&&i.renderSwitchStatus(e,i.errorCode.ERROR_DEFAULT,t.msg),0==t.code){var n={lgt:i.loginWay.USE_AUTO,input:a,remember:0,password:l};i.requestAjax("/gateway/userLogin",n,function(t){0==t.code&&i.renderRegisterSuccess(),0!=t.code&&i.renderSwitchStatus(e,i.errorCode.ERROR_DEFAULT,t.msg)})}})}},{key:"verifyMailCode",value:function(e,t,i){var n=this,s=i.$email,o=i.$getVerify;new TencentCaptcha(document.getElementById("MailCaptcha"),n.options.magicId,function(a){if(o.addClass("disable"),0===a.ret){var r={randstr:a.randstr,ticket:a.ticket},l=s.val();n.emailStatus.regex.test(l)&&""!=l?n.emailStatus.isRequest||(n.emailStatus.isRequest=!0,t.bind(n)(e,i,r)):n.renderSwitchStatus(e,n.errorCode.ERROR_EMAIL_ADDRESS)}})}},{key:"verifyMailCaptcha",value:function(e,t,i){this.isHasJS();var n=this,s=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src="https://captcha.qq.com/TCaptcha.js",n.isScript?n.verifyMailCode(e,t,i):(s.appendChild(o),o.onload=function(){n.verifyMailCode(e,t,i)})}},{key:"usePasswordLogin",value:function(e){var t=this,i=this.$body.find(e),n=i.find(".choose-login-country"),s=i.find(".format-phone-input"),o=i.find(".user-pass"),a=i.find(".btn-button"),r=i.find(".input-status"),l=i.find(".login-full-checkbox");s.on("input",function(){r.empty();var e=s.val(),t=o.val();""==e||""==t?a.addClass("disable").removeClass("show"):a.removeClass("disable").addClass("show")}),o.on("input",function(){r.empty();var e=s.val(),t=o.val();""==e||""==t?a.addClass("disable").removeClass("show"):a.removeClass("disable").addClass("show")}),a.on("click",function(){var i=s.val(),a=o.val(),r=n.attr("value"),d=l.prop("checked"),u={lgt:r,input:i,remember:d=d?1:0,password:a};t.requestAjax("/gateway/userLogin",u,function(i){0==i.code&&window.location.reload(),0!=i.code&&(t.renderSwitchStatus(e,t.errorCode.ERROR_DEFAULT,i.msg),-8==i.code&&setTimeout(function(){window.location.href=i.url},1e3))})})}},{key:"updateNickName",value:function(e){var t=this,i=this.$body.find(e),n=i.find(".btn-button"),s=i.find(".nick-name");s.on("input",function(){""!=s.val()?n.removeClass("disable").addClass("show"):n.addClass("disable").removeClass("show")}),n.on("click",function(){var i={nick:s.val()};t.requestAjax("/my/updateNick",i,function(i){0==i.code&&window.location.reload(),0!=i.code&&t.renderSwitchStatus(e,t.errorCode.ERROR_DEFAULT,i.msg)})})}},{key:"renderSwitchStatus",value:function(e,t,i){var n=this.$body.find(e);n.find(".input-status").empty();var s="";switch(t){case this.errorCode.WARNING_PHONE_IS_NOT_REGISTER:s='\n                    <div class="status-warning"></div>\n                    <p>该手机号尚未注册，继续登录将直接为您注册账号</p>';break;case this.errorCode.ERROR_PHONE_FORMAT:s='\n                    <div class="status-error"></div>\n                    <p>手机号码格式错误</p>';break;case this.errorCode.ERROR_EMAIL_ADDRESS:s='\n                    <div class="status-error"></div>\n                    <p>请输入合法的邮箱地址</p>';break;case this.errorCode.RIGHT_EMAIL_CAN_USE:s='\n                    <div class="status-right"></div>\n                    <p>该邮箱可以注册</p>';break;case this.errorCode.ERROR_DEFAULT:s='\n                    <div class="status-error"></div>\n                    <p>'+i+"</p>"}n.find(".input-status").append(s)}},{key:"isHasJS",value:function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)"https://captcha.qq.com/TCaptcha.js"==e[t].src&&(this.isScript=!0)}},{key:"renderQRcodeModal",value:function(){this.removeModal();this.$body.append('\n            <div class="modal-QRcode modal-box">\n                <div class="QRcode-switch"></div>\n                <div class="modal-box-title">\n                    登录轻之文库\n                </div>\n                <div class="modal-switch-header">\n                    <div class="switch-block phone-login">\n                        手机号快捷登录\n                    </div>\n                    <div class="switch-line"></div>\n                    <div class="switch-block user-login">\n                        账号密码登录\n                    </div>\n                </div>\n                <div class="QRcode-image">\n                    <div class="QRcode-mask">\n                        <div class="QRcode-timeout">\n                            <p>二维码超时</p>\n                            <p>请点击重新获取二维码</p>\n                        </div>\n                    </div>\n                </div>\n                <div class="QRcode-bottom">\n                    <div class="QRcode-tip"></div>\n                </div>\n            </div>'),this.bindQRCodeEvent(".modal-QRcode")}},{key:"bindQRCodeEvent",value:function(e){this.initQRCode(e),this.reloadQRCode(),this.switchModal(e,".QRcode-switch",this.renderLoginModal),this.switchModal(e,".phone-login",this.renderLoginModal),this.switchModal(e,".user-login",this.renderFullLoginModal),this.cancelModal(e)}},{key:"initQRCode",value:function(e){var t=this;$.get("/auth/getQRUrl",function(i){if(0!=i.code)return alert("二维码加载出错！ "+i.msg),!1;var n=i.data.code_url,s=i.data.check_url;$(".QRcode-image").qrcode(n),t.loopQRcheck(s,e)})}},{key:"loopQRcheck",value:function(e,t){var i=this,n=this.$body.find(t).length;if(this.isMask){var s=this.$body.find(t).find(".QRcode-timeout");$.get(e,function(o){if(0==o.code)i.renderQRcodeSuccess();else if(1!=o.code)$(".QRcode-mask").css("visibility","visible"),i.reloadQRCode(".modal-QRcode");else{if("scanned"==o.msg){s.empty();s.append("<p>请在手机确认</p><p>请点击重新获取二维码</p>"),$(".QRcode-mask").css("visibility","visible"),i.reloadQRCode(".modal-QRcode")}var a=null;0!=n?a=setTimeout(function(){i.loopQRcheck(e,t)},3e3):clearTimeout(a)}})}}},{key:"reloadQRCode",value:function(e){var t=this;this.$body.find(e).find(".QRcode-mask").one("click",function(){$(this).css("visibility","hidden"),$(this).parents(".QRcode-image").find("canvas").remove(),t.initQRCode()})}},{key:"renderQuickRegisterModal",value:function(){this.removeModal(),this.renderMask();var e='\n            <div class="modal-register modal-box">\n                <div class="modal-box-title">\n                    快速注册\n                </div>\n                <div class="modal-switch-header register-title">\n                    <div class="switch-block show" value="0">\n                        手机号注册\n                    </div>\n                    <div class="switch-line"></div>\n                    <div class="switch-block" value="1">\n                        邮箱注册\n                    </div>\n                </div>\n                <div class="login-form">\n                    <div class="login-form-title">\n                        <div class="lt-tip">若已创建轻之文库账号，将自动登录</div>\n                    </div>\n                    <div class="input-style">\n                        <div class="input-choose">\n                            <span class="choose-login-country">中国 +86</span>\n                            <div class="login-country register-country" style="visibility: hidden;">\n                                <div class="login-options register-options">\n                                    <ul>'+this.renderSelect()+'</ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="login-line"></div>\n                        <input type="text" class="format-phone-input" placeholder="请输入手机号" autocomplete="off">\n                    </div>\n                    <div class="input-style verify-input">\n                        <input type="text" class="input-verify" placeholder="请输入短信验证码" autocomplete="off">\n                        <div class="get-verify disable" id="TencentCaptcha">获取验证码</div>\n                    </div>\n                    <label>\n                        <input type="checkbox" id="agree" value="1">我已阅读并同意\n                        <a href="/page/agreement" target="_blank">用户使用协议</a>\n                    </label>\n                    <div class="status-tip">\n                        <div class="input-status"></div>\n                        <div class="register-login">已有账号？直接登录</div>\n                    </div>\n                    <div class="btn-button">注 册</div>\n                </div>\n                <div class="register-bottom"></div>\n            </div>';this.$body.append(e),this.bindQuickRegisterEvent(".modal-register",".register-login")}},{key:"bindQuickRegisterEvent",value:function(e,t){this.chooseOption(e),this.switchWay(e),this.switchModal(e,t,this.renderFullLoginModal),this.bindLoginEvent(e,!1),this.switchModal(".modal-register",".register-login",this.renderFullLoginModal),this.cancelModal(e)}},{key:"switchWay",value:function(e){var t=this,i=this.$body.find(e).find(".modal-switch-header").find(".switch-block");i.on("click",function(){i.map(function(e,t){$(t).removeClass("show")});var n=$(this).attr("value");t.renderWhichForm(n,e),$(this).addClass("show")})}},{key:"renderWhichForm",value:function(e,t){0==e?this.renderPhoneRegister(t):this.renderMailRegister(t)}},{key:"renderRegisterSuccess",value:function(){this.removeModal();this.$body.append('\n            <div class="modal-success modal-box">\n                <div class="modal-box-title">\n                    注册成功\n                </div>\n                <div class="login-form">\n                    <div class="login-form-title">\n                        <div class="lt-tip">\n                            您已注册成功，请创建您的昵称\n                        </div>\n                    </div>\n                    <div class="input-style">\n                        <input type="text" class="input-long nick-name" placeholder="中英文均可，设置后不可更改" autocomplete="off">\n                    </div>\n            \n                    <div class="input-status"></div>\n            \n                    <div class="btn-button">提交</div>\n            \n                    <div class="modal-skip jump-over">跳过</div>\n                </div>\n            </div>'),this.cancelModal(".modal-success",!0),this.updateNickName(".modal-success"),this.cancelSuccessModal(".modal-success",".jump-over")}},{key:"renderPhoneRegister",value:function(e){var t=this.$body.find(e),i=this.renderSelect();t.find(".login-form").remove();var n='\n            <div class="login-form">\n                <div class="login-form-title">\n                    <div class="lt-tip">若未创建轻之文库账号，将自动创建</div>\n                </div>\n                <div class="input-style">\n                    <div class="input-choose">\n                        <span class="choose-login-country">中国 +86</span>\n                        <div class="login-country register-country" style="visibility: hidden;">\n                            <div class="login-options register-options">\n                                <ul>'+i+'</ul>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="login-line"></div>\n                    <input type="text" class="format-phone-input" placeholder="请输入手机号" autocomplete="off">\n                </div>\n                <div class="input-style verify-input">\n                    <input type="text" class="input-verify" placeholder="请输入短信验证码" autocomplete="off">\n                    <div class="get-verify disable" id="TencentCaptcha">获取验证码</div>\n                </div>\n                <label>\n                    <input type="checkbox" id="agree" value="1">我已阅读并同意\n                    <a href="/page/agreement" target="_blank">用户使用协议</a>\n                </label>\n                <div class="status-tip">\n                    <div class="input-status"></div>\n                    <div class="register-login">已有账号？直接登录</div>\n                </div>\n                <div class="btn-button">注 册</div>\n            </div>';t.find(".register-title").after(n),this.chooseOption(e),this.switchModal(".modal-register",".register-login",this.renderFullLoginModal),this.bindLoginEvent(e,!1)}},{key:"renderMailRegister",value:function(e){var t=this.$body.find(e);t.find(".login-form").remove();t.find(".register-title").after('\n            <div class="login-form">\n                <div class="login-form-title"></div>\n                <div class="input-style">\n                    <input type="text" class="input-long email" placeholder="请输入邮箱地址" autocomplete="off">\n                </div>\n                <div class="input-style verify-input">\n                    <input type="text" class="input-verify" placeholder="请输入邮箱验证码" autocomplete="off">\n                    <div class="get-verify disable" id="MailCaptcha">获取验证码</div>\n                </div>\n                <div class="input-style">\n                    <input type="password" class="input-long email-password" placeholder="请输入您的密码" autocomplete="off">\n                </div>\n                <label>\n                    <input type="checkbox" id="agree" value="1">我已阅读并同意\n                    <a href="/page/agreement" target="_blank">用户使用协议</a>\n                </label>\n                <div class="status-tip">\n                    <div class="input-status"></div>\n                    <div class="register-login">已有账号？直接登录</div>\n                </div>\n                <div class="btn-button">注 册</div>\n            </div>'),this.switchModal(".modal-register",".register-login",this.renderFullLoginModal),this.bindMailEvent(e)}},{key:"renderFullLoginModal",value:function(){this.removeModal();var e=this.renderSelect(1),t='\n            <div class="modal-full-login modal-box">\n                <div class="login-switch"></div>\n                <div class="modal-box-title">登录轻之文库</div>\n                <div class="login-form">\n                    <div class="login-form-title">\n                        <div class="lt-tip"></div>\n                        <div class="lt-switch" value="0">手机号快捷登录</div>\n                    </div>\n                    <div class="input-style">\n                        <div class="input-choose">\n                            <span class="choose-login-country" value="'+this.loginWay.USE_AUTO+'">账号</span>\n                            <div class="login-country" style="visibility: hidden;">\n                                <div class="login-options">\n                                    <ul>'+e+'</ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="login-line"></div>\n                        <input type="text" class="format-phone-input" placeholder="手机号 / 邮箱">\n                    </div>\n                    <div class="input-style">\n                        <input type="password" class="input-long user-pass" placeholder="请输入密码">\n                    </div>\n                    <div class="modal-full">\n                        <div class="login-full-left">\n                            <div class="login-full-tip">\n                                <input type="checkbox" class="login-full-checkbox">\n                                <p>记住我</p>\n                            </div>\n                            <div class="modal-skip">不是自己电脑请勿勾选此项</div>\n                        </div>\n                        <div class="forget-password">\n                            <a href="/auth/forgetPassword" target="_blank">忘记密码？</a>\n                        </div>\n                    </div>\n                    <div class="input-status"></div>\n                    <div class="btn-button">登 录</div>\n                    <div class="quick-register modal-skip">快速注册</div>\n                </div>\n                <div class="modal-lb">\n                    <div class="quick-login-box">\n                    <a href="/auth/sns?type=qq"><i class="quick-login login-qq"></i></a>\n                    <a href="/auth/sns?type=wechat"><i class="quick-login login-wechat"></i></a>\n                    <a href="/auth/sns?type=weibo"><i class="quick-login login-weibo"></i></a>\n                    </div>\n                </div>\n            </div>';this.$body.append(t),this.bindFullLoginEvent(".modal-full-login",".login-switch",".quick-register")}},{key:"bindFullLoginEvent",value:function(e,t,i){this.switchModal(e,t,this.renderQRcodeModal),this.switchModal(e,i,this.renderQuickRegisterModal),this.switchUserLogin(e),this.chooseOption(e),this.usePasswordLogin(e),this.cancelModal(e)}},{key:"renderQRcodeSuccess",value:function(){this.removeModal();this.$body.append('\n            <div class="modal-QRsuccess modal-box">\n                <div class="QRsuccess-body">\n                    <div class="QRsuccess-image"></div>\n                    <div class="QRsuccess-title">登录成功</div>\n                    <div class="QRsuccess-text">\n                        <p>本页将在一秒后自动跳转</p>\n                        <p>如果页面没有跳转，请 点击这里</p>\n                    </div>\n                </div>\n                <div class="QRsuccess-bottom"></div>\n            </div>'),this.cancelModal(".modal-success",!0),setTimeout(function(){window.location.reload()},1e3)}},{key:"renderMask",value:function(){this.isMask||(this.$body.append('<div class="modal-mask"></div>'),this.isMask=!0)}},{key:"removeModal",value:function(){this.$body.find(".modal-box").remove()}},{key:"switchModal",value:function(e,t,i){var n=this;this.$body.find(e).find(t).on("click",function(){i.bind(n)()})}},{key:"cancelModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this;this.$body.find(".modal-mask").on("click",function(){t&&window.location.reload(),i.$body.find(e).remove(),$(this).remove(),i.isMask=!1})}},{key:"cancelSuccessModal",value:function(e,t){var i=this,n=this.$body.find(e);n.find(t).on("click",function(){i.isMask=!1,i.$body.find(".modal-mask").remove(),n.remove(),window.location.reload()})}},{key:"requestAjax",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";$.ajax({url:e,cache:!1,method:n,dataType:"json",data:t}).done(function(e){i&&i(e)}).fail(function(e){console.log(e)})}},{key:"$body",get:function(){return $("body")}}]),e}()},70:function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(7);$(document).ready(function(){window.nav=new o,"undefined"==typeof uid||uid<0?(nav.listenerMenu(),nav.bindListenerEvent()):(nav.init(),nav.bind())});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modalWin=new s.ModalWin,this.integral_count=0}return n(e,[{key:"init",value:function(){this.listenerMenu(),this.reloadUserInfo()}},{key:"bind",value:function(){this.getTicket(),this.getCredit(),this.getNotice(),this.switchTab(),this.bindListenerEvent(),this.currentNotifyType()}},{key:"requestAjax",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";$.ajax({url:e,method:n,dataType:"json",data:t}).done(function(e){0===e.code?i(e.data):alert(e.msg)}).fail(function(e){console.log(e.msg)})}},{key:"switchTab",value:function(){var e=$(".notify-menu ul li a");$(e).click(function(t){t.preventDefault();for(var i=0;i<e.length;i++)$(e[i]).removeClass("on");$(this).addClass("on")})}},{key:"reloadUserInfo",value:function(){var e=this;this.requestAjax("/hub/userPanel",null,function(t){e.coin_num.html(e.formatCredit(t.credit.coin)),e.integral_num.html(e.formatCredit(t.credit.ink)),e.integral_count=t.credit.ink;var i=t.notify_count+t.author_notify_count;i>0?e.badge.addClass("show").html(i):i>99?e.badge.addClass("show").html("99+"):0==i&&e.badge.removeClass("show"),t.author_notify_count>0&&(e.author_notify.css("display","block").html(t.author_notify_count),t.author_notify_count>99&&e.author_notify.css("display","block").html("99+")),t.can_sign?e.nav_sign.removeClass("on"):e.nav_sign.addClass("on"),t.can_ticket?e.nav_ticket.removeClass("on"):e.nav_ticket.addClass("on")})}},{key:"formatCredit",value:function(e){return(new Intl.NumberFormat).format(e)}},{key:"getTicket",value:function(){var e=this;this.nav_ticket.click(function(){$.get("/my/getMonthlyTicket",function(t){if(0===t.code){var i=t.data.now,n=t.data.plus;alert("月票领取成功！您领取了"+n+"张月票，当前有"+i+"张月票！"),e.nav_ticket.addClass("on")}else alert(t.msg)})})}},{key:"getCredit",value:function(){var e=this;this.nav_sign.on("click",function(t){t.preventDefault(),e.requestAjax("/my/qiandao",null,function(t){var i=t.total,n=(t.base,t.extra,t.day);alert("签到成功！您已连续签到"+n+"天，获得墨水"+i+"！"),e.nav_sign.addClass("on"),e.integral_num.html(e.formatCredit(e.integral_count+i))})})}},{key:"getNotice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sys",t=this,i='<div class="loading-linovel"></div>';this.notify_content.append(i),this.requestAjax("/my/notify",{type:e},function(n){t.notify_content.empty(),i="",0!==n.items.length?n.items.map(function(n){i+='\n                    <a href= "/my/notify?type='+e+'" class="notify-item" target="_blank">\n                        <div class="notify-date">\n                            '+t.formatDate(n.date)+'\n                        </div>\n                        <div class="notify-text">\n                            '+n.message+"\n                        </div>\n                    </a>\n                    "}):i='<div class="loading-null"></div>',n.unread.sys>0&&(t.sys_notify.css("display","block").html(n.unread.sys),n.unread.sys>99&&t.sys_notify.html("99+")),n.unread.comment>0&&(t.comment_notify.css("display","block").html(n.unread.comment),n.unread.comment>99&&t.comment_notify.html("99+")),n.unread.user>0&&(t.user_notify.css("display","block").html(n.unread.user),n.unread.user>99&&t.user_notify.html("99+")),t.notify_content.append(i),t.see_all.attr("href","/my/notify?type="+e)})}},{key:"currentNotifyType",value:function(){var e=this,t=$("#notify-panel .notify-menu ul li span");t.click(function(){e.notify_content.empty(),t.removeClass("on");var i=$(this);i.addClass("on");var n=i.attr("data-notify");e.getNotice(n)})}},{key:"bindListenerEvent",value:function(){var e=this;$(window).scroll(function(){e.listenerMenu()})}},{key:"listenerMenu",value:function(){var e=$(window).scrollTop(),t=this.nav_menu.height();$(".wrapper-beta").find(".menu").length>0?this.menu.offset().top-t<e?this.menu_fixed.addClass("menu-fixed-hover"):this.menu_fixed.removeClass("menu-fixed-hover"):e>t?this.menu_fixed.addClass("menu-fixed-hover"):this.menu_fixed.removeClass("menu-fixed-hover")}},{key:"formatDate",value:function(e){var t=new Date(1e3*e),i=t.getMonth()+1,n=t.getDate();return i<10&&(i="0"+i),n<10&&(n="0"+n),i+"/"+n}},{key:"menu_fixed",get:function(){return $(".menu-fixed")}},{key:"nav_menu",get:function(){return $(".nav-menu")}},{key:"menu",get:function(){return $(".menu")}},{key:"notify_content",get:function(){return this.nav_menu.find(".notify-content")}},{key:"sys_notify",get:function(){return this.nav_menu.find(".sys-notify")}},{key:"comment_notify",get:function(){return this.nav_menu.find(".comment-notify")}},{key:"user_notify",get:function(){return this.nav_menu.find(".user-notify")}},{key:"see_all",get:function(){return this.nav_menu.find(".see-all")}},{key:"nav_ticket",get:function(){return this.nav_menu.find(".nav-ticket")}},{key:"nav_sign",get:function(){return this.nav_menu.find(".nav-sign")}},{key:"integral_num",get:function(){return this.nav_menu.find(".integral-num")}},{key:"coin_num",get:function(){return this.nav_menu.find(".coin-num")}},{key:"badge",get:function(){return this.nav_menu.find(".notify-tip")}},{key:"author_notify",get:function(){return this.nav_menu.find(".author-notify-num")}},{key:"login_win",get:function(){return this.nav_menu.find(".login_win")}},{key:"login_register",get:function(){return this.nav_menu.find(".login_register")}}]),e}()}},[[70,0]]]);