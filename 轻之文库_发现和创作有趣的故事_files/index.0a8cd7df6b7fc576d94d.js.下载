(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{15:function(e,t){
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
!function(e,t,n,i){var o=e(t);e.fn.lazyload=function(i){var r,a=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function s(){var t=0;a.each(function(){var n=e(this);if(!l.skip_invisible||n.is(":visible"))if(e.abovethetop(this,l)||e.leftofbegin(this,l));else if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else n.trigger("appear"),t=0})}return i&&(void 0!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),void 0!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),e.extend(l,i)),r=void 0===l.container||l.container===t?o:e(l.container),0===l.event.indexOf("scroll")&&r.bind(l.event,function(){return s()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,void 0!==n.attr("src")&&!1!==n.attr("src")||n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var i=a.length;l.appear.call(t,i,l)}e("<img />").bind("load",function(){var i=n.attr("data-"+l.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[l.effect](l.effect_speed),t.loaded=!0;var o=e.grep(a,function(e){return!e.loaded});if(a=e(o),l.load){var r=a.length;l.load.call(t,r,l)}}).attr("src",n.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&n.bind(l.event,function(){t.loaded||n.trigger("appear")})}),o.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&a.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){s()}),this},e.belowthefold=function(n,i){return(void 0===i.container||i.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(i.container).offset().top+e(i.container).height())<=e(n).offset().top-i.threshold},e.rightoffold=function(n,i){return(void 0===i.container||i.container===t?o.width()+o.scrollLeft():e(i.container).offset().left+e(i.container).width())<=e(n).offset().left-i.threshold},e.abovethetop=function(n,i){return(void 0===i.container||i.container===t?o.scrollTop():e(i.container).offset().top)>=e(n).offset().top+i.threshold+e(n).height()},e.leftofbegin=function(n,i){return(void 0===i.container||i.container===t?o.scrollLeft():e(i.container).offset().left)>=e(n).offset().left+i.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document)},47:function(e,t,n){"use strict";Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,o;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),a=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=new Array(a),o=0;o<a;){var l,s;o in r&&(l=r[o],s=e.call(n,l,o,r),i[o]=s),o++}return i})},71:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(47),n(15),$(document).ready(function(){window.index=new o});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data_cat=-1,this.init(),this.bind()}return i(e,[{key:"init",value:function(){var e=this;this.getBooksByType(e.boutique_books),this.listenerScroll(),this.listenerMenu();var t=setInterval(function(){e.listenerBanner();for(var n=e.carousel_banner.find("img"),i=n.length,o=0,r=0;r<i;r++)/data:image/g.test($(n[r]).attr("src"))||o++;o>0&&(e.carousel_mask.remove(),clearInterval(t),e.slideBanner())},200)}},{key:"bind",value:function(){var e=this;this.slideBlock(),$(window).on("resize",function(){e.listenerBanner()}),$(".headline-menu ul li a ").click(function(t){t.preventDefault();for(var n=$(".headline-menu ul li a"),i=0;i<n.length;i++)$(n[i]).find(".menu-border").css("opacity","0");$(this).find(".menu-border").css("opacity","1"),e.data_cat=$(this).attr("data-type"),e.boutique_books.find(".work-list ul li").remove(),e.getBooksByType(e.boutique_books,e.data_cat)}),this.carousel_banner.on("slide.bs.carousel",function(){e.slideBanner()}),this.btn_boutique.click(function(){e.boutique_books.find(".work-list ul li").remove(),e.getBooksByType(e.boutique_books,e.data_cat,1)}),this.btn_finish.click(function(){e.finish_books.find(".work-list ul li").remove(),e.getBooksByType(e.finish_books,-2,1)}),this.btn_hard.click(function(){e.hark_working.find(".work-list ul li").remove(),e.getBooksByType(e.hark_working,-3,1)})}},{key:"listenerBanner",value:function(){for(var e=this.carousel_banner.find("img"),t=0;t<e.length;t++){var n=e[t].naturalWidth,i=e[t].naturalHeight;690==this.carousel_banner[0].clientWidth&&285==this.carousel_banner[0].clientHeight?(i>=360&&870==n&&$(e[t]).css("width","690px").css("height","auto"),n>=870&&360==i&&$(e[t]).css("width","auto").css("height","285px")):(i>=360&&870==n&&$(e[t]).css("width","870px").css("height","auto"),n>=870&&360==i&&$(e[t]).css("width","auto").css("height","360px"))}}},{key:"slideBanner",value:function(){for(var e=this.carousel_banner.find(".item-banner"),t=function(t){$(e[t]).find("img").stop(),$(e[t]).find("img:first-of-type").css(featurePics[t].before.firstImg),$(e[t]).find("img:last-of-type").css(featurePics[t].before.lastImg),$(e[t]).find("img:first-of-type").animate(featurePics[t].after.firstImg,700,function(){$(e[t]).find("img:last-of-type").animate(featurePics[t].after.lastImg,800)})},n=0;n<e.length;n++)t(n)}},{key:"slideBlock",value:function(){for(var e=$(".slide-fixed ul li a"),t=$(".slide-thing"),n=function(n){$(e[n]).click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$(t[n]).offset().top-110+"px"},"slow")})},i=0;i<e.length;i++)n(i);$(".roll-top > a").click(function(e){e.preventDefault();var t=$(".banner-nav").offset();$("html, body").animate({scrollTop:t.top-70+"px"},"slow")})}},{key:"listenerScroll",value:function(){$(window).scroll(function(){var e=$(window).scrollTop();$(".slide-fixed ul li > a").removeClass("on");for(var t=$(".slide-fixed ul li a"),n=$(".slide-thing"),i=0;i<n.length;i++){var o=0;o=i!==n.length-1?$(n[i]).offset().top-140:$(n[i]).offset().top-100;var r=0;5===i?(r=o+$(n[4]).height()-10,e+=100):r=o+$(n[i]).height(),e>o&&e<r&&$(t[i]).addClass("on")}})}},{key:"request",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";$.ajax({url:e,method:i,dataType:"json",data:t}).done(function(e){0===e.code?n(e.data):alert(e.msg)}).fail(function(e){console.log(e.msg)})}},{key:"getBooksByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$(e).find(".work-list ul");$(e).find(".books-content").append('<div class="loading-linovel"></div>');var o={cat:-1,pageSize:18,order:2};o.cat=t,null!==n&&(o.shuffle=n);this.request("/hub/getIndexBooks",o,function(t){for(var n="",o=0;o<t.books.length;o++)n+='<li>\n                        <a href="/book/'+t.books[o].id+'.html" class="book-item-inner" target="_blank">\n                            <div class="cover">\n                                <img src="'+t.books[o].thumbCoverUrl+'" alt="">\n                                <div class="mask">\n                                    <div class="mask-avatar">\n                                        <img src="'+t.books[o].author.avatarUrl+'" alt="">\n                                    </div>\n                                    <div class="mask-author">\n                                        '+t.books[o].author.nick+'/著\n                                    </div>\n                                    <div class="mask-detail">\n                                        <p>字数 : '+t.books[o].words+"</p>\n                                        <p>热度 : "+t.books[o].hot+'</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="book-item-name">'+t.books[o].name+"</div>\n                        </a>\n                    </li>";i.append(n),$(e).find(".loading-linovel").remove()})}},{key:"listenerMenu",value:function(){var e=this;$(window).scroll(function(){var t=$(window).scrollTop();e.menu.offset().top-e.nav_menu.height()<t?e.menu_fixed.addClass("menu-fixed-hover"):e.menu_fixed.removeClass("menu-fixed-hover")})}},{key:"menu_fixed",get:function(){return $(".menu-fixed")}},{key:"menu",get:function(){return $(".menu")}},{key:"nav_menu",get:function(){return $(".nav-menu")}},{key:"boutique_books",get:function(){return $(".boutique-books")}},{key:"btn_boutique",get:function(){return $(".btn-boutique")}},{key:"btn_finish",get:function(){return $(".btn-finish")}},{key:"finish_books",get:function(){return $(".finish-books")}},{key:"btn_hard",get:function(){return $(".btn-hard")}},{key:"hark_working",get:function(){return $(".hark-working")}},{key:"carousel_banner",get:function(){return $("#carousel-banner")}},{key:"carousel_mask",get:function(){return $(".carousel-mask")}}]),e}()}},[[71,0]]]);